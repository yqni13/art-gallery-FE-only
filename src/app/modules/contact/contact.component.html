<section class="agal-contact">
    <header>
        <h1>{{'modules.contact.title' | translate}}</h1>
    </header>
    <div class="agal-head-message">
        <p>
            {{'modules.contact.message' | translate}}
            <a
                class="agal-nav-routes agal-anchor"
                [attr.aria-disabled]="true"
                routerLink="/faq"
            >{{'common.navigation.faq' | translate}}</a>.
        </p>
    </div>
    <div class="agal-contact-content-wrapper">
        <div class="agal-contact-content">

            <form [formGroup]="contactForm">
                <div class="agal-form-item agal-form-multiple">
                    <agal-selectinput
                        [ngStyle]="{'width': '50%'}"
                        [className]="'agal-form-left-select'"
                        [placeholder]="('modules.contact.form.placeholders.subject' | translate) + '*'"
                        [formControl]="contactForm.get('subject') | controlCast"
                        [options]="subjectOptions"
                        [optionsTranslateRoot]="'shared.enum.contact-subject.'"
                        [fieldName]="'modules.contact.form.fieldNames.subject' | translate"
                        (byChange)="configRefNrByType()"
                    ></agal-selectinput>
                    <agal-textinput
                        [className]="'agal-form-right'"
                        [placeholder]="(contactForm.get('subject')?.value === subjectOptions.generalRequest || 
                                        contactForm.get('subject')?.value === '') 
                                        ? '--' 
                                        : ('modules.contact.form.placeholders.referenceNr' | translate) + '*'"
                        [inputType]="'text'"
                        [ngStyle]="{'width': '50%'}"
                        [readonly]="readonly"
                        [ngClass]="hasReferenceFromParams 
                        ? 'agal-query-value agal-readonly' 
                        : (contactForm.get('subject')?.value === subjectOptions.generalRequest ||
                        contactForm.get('subject')?.value === '')
                        ? 'agal-readonly'
                        : ''"
                        [formControl]="contactForm.get('referenceNr') | controlCast"
                        [fieldName]="'modules.contact.form.fieldNames.referenceNr' | translate"
                        (byChange)="configRefNrByChanges()"

                    ></agal-textinput>
                </div>
                <div class="agal-form-item agal-form-multiple">
                    <agal-selectinput
                        *ngIf="hasValidReferenceNr"
                        [className]="'agal-form-left-select'"
                        [ngStyle]="!hasValidReferenceNr ? {} : {'width': '40%'}"
                        [formControl]="contactForm.get('type') | controlCast"
                        [placeholder]="('modules.contact.form.placeholders.type' | translate) + '*'"
                        [options]="artworkOptions"
                        [optionsTranslateRoot]="'shared.enum.artwork-option.'"
                        [fieldName]="'modules.contact.form.fieldNames.type' | translate"
                        [ngClass]="contactForm.get('subject')?.value === subjectOptions.artOrder 
                                    ? 'agal-query-value agal-readonly' 
                                    : ''"
                    ></agal-selectinput>
                    <agal-textinput
                        [className]="hasValidReferenceNr ? 'agal-form-right' : ''"
                        [ngStyle]="hasValidReferenceNr ? {'width': '60%'} : {'width': '100%'}"
                        [inputType]="'email'"
                        [placeholder]="('modules.contact.form.placeholders.email' | translate) + '*'"
                        [formControl]="contactForm.get('email') | controlCast"
                        [readonly]="false"
                        [fieldName]="'modules.contact.form.fieldNames.email' | translate"
                    ></agal-textinput>
                </div>
                <div class="agal-form-item agal-form-multiple">
                    <agal-selectinput
                        [className]="'agal-form-left-select'"
                        [ngStyle]="{'width': '40%'}"
                        [formControl]="contactForm.get('honorifics') | controlCast"
                        [placeholder]="('modules.contact.form.placeholders.honorifics' | translate) + '*'"
                        [options]="['Mr', 'Ms']"
                        [optionsTranslateRoot]="'shared.enum.honorifics-option.'"
                        [fieldName]="'modules.contact.form.fieldNames.honorifics' | translate"
                    ></agal-selectinput>
                    <agal-textinput
                        [className]="'agal-form-right'"
                        [ngStyle]="{'width': '60%'}"
                        [placeholder]="'modules.contact.form.placeholders.title' | translate"
                        [inputType]="'text'"
                        [formControl]="contactForm.get('title') | controlCast"
                        [fieldName]="'modules.contact.form.fieldNames.title' | translate"
                    ></agal-textinput>
                </div>          
                <div class="agal-form-item agal-form-multiple">
                    <agal-textinput
                        [ngStyle]="{'width': '50%'}"
                        [className]="'agal-form-left'"
                        [inputType]="'text'"
                        [placeholder]="('modules.contact.form.placeholders.firstName' | translate) + '*'"
                        [formControl]="contactForm.get('firstName') | controlCast"
                        [fieldName]="'modules.contact.form.fieldNames.firstName' | translate"
                        ></agal-textinput>
                        <agal-textinput
                        [ngStyle]="{'width': '50%'}"
                        [className]="'agal-form-right'"
                        [inputType]="'text'"
                        [placeholder]="('modules.contact.form.placeholders.lastName' | translate) + '*'"
                        [formControl]="contactForm.get('lastName') | controlCast"
                        [fieldName]="'modules.contact.form.fieldNames.lastName' | translate"
                    ></agal-textinput>
                </div>
                <div class="agal-form-item">
                    <agal-textareainput
                        [ngStyle]="{'width': '100%'}"
                        [placeholder]="('modules.contact.form.placeholders.message' | translate) + '*'"
                        [formControl]="contactForm.get('message') | controlCast"
                        [fieldName]="'modules.contact.form.fieldNames.message' | translate"
                        [rows]="6"
                    ></agal-textareainput>
                </div>
            </form>
            <div class="agal-contact-button-wrapper">
                <button 
                    type="submit"
                    class="agal-button-submit"                    
                    (click)="onSubmit()"
                >{{'modules.contact.form.button' | translate}}</button>
            </div>
        </div>
    </div>
</section>
